<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Military Recognition Quiz</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
  :root {
    --bg: #0d1117;
    --card: #161b22;
    --text: #c9d1d9;
    --accent: #58a6ff;
    --green: #238636;
    --red: #da3633;
  }
  body {margin:0; font-family:'Segoe UI',Arial,sans-serif; background:var(--bg); color:var(--text); min-height:100vh; display:flex; flex-direction:column; align-items:center; padding:20px 10px;}
  h1 {color:var(--accent); text-align:center; margin:20px 0 10px; font-size:2.5em; text-shadow:0 0 10px #58a6ff40;}
  #quiz {background:var(--card); width:100%; max-width:900px; border-radius:16px; padding:30px; box-shadow:0 10px 30px rgba(0,0,0,0.6); position:relative; overflow:hidden;}
  #progress {height:8px; background:#30363d; border-radius:4px; overflow:hidden; margin:20px 0;}
  #progressBar {height:100%; width:0%; background:var(--accent); transition:width 0.4s ease;}
  #question {font-size:1.6em; margin-bottom:20px; text-align:center;}
  #vehicleImage {max-width:100%; border-radius:12px; border:4px solid #30363d; box-shadow:0 10px 20px rgba(0,0,0,0.7);}
  .loading {display:flex; flex-direction:column; align-items:center; justify-content:center; height:400px; color:#888; font-size:1.3em;}
  .spinner {width:60px; height:60px; border:6px solid #30363d; border-top-color:var(--accent); border-radius:50%; animation:spin 1s linear infinite; margin-bottom:20px;}
  @keyframes spin {to{transform:rotate(360deg);}}
  .options {display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:15px; margin:30px 0;}
  button {padding:18px; font-size:1.2em; background:#21262d; color:var(--text); border:2px solid #30363d; border-radius:12px; cursor:pointer; transition:all 0.3s;}
  button:hover {background:var(--accent); color:white; transform:translateY(-4px); box-shadow:0 8px 15px rgba(88,166,255,0.3);}
  button.correct {background:var(--green) !important; border-color:var(--green);}
  button.wrong {background:var(--red) !important; border-color:var(--red);}
  #result {font-size:1.8em; font-weight:bold; min-height:60px; text-shadow:0 0 10px;}
  #nextBtn {margin-top:30px; padding:15px 40px; font-size:1.4em; background:var(--accent); border:none; border-radius:12px; display:none;}
  #final {text-align:center; padding:40px;}
  #final button {padding:18px 50px; font-size:1.5em;}
  @media(max-width:600px){.options{grid-template-columns:1fr;}}
</style>
</head>
<body>

<h1>Military Recognition Quiz</h1>
<div id="quiz">
  <div id="progress"><div id="progressBar"></div></div>
  <div id="question"></div>
  <div id="imageContainer">
    <div class="loading"><div class="spinner"></div>Loading vehicle...</div>
    <img id="vehicleImage" src="" alt="Vehicle" style="display:none;">
  </div>
  <div class="options" id="options"></div>
  <div id="result"></div>
  <button id="nextBtn">Next Question ‚Üí</button>
</div>

<canvas id="confetti"></canvas>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
<script>
// Exact order of your 24 photos
const vehicles = [
  {name:"M2 Bradley IFV", country:"USA"},
  {name:"Ajax CRV", country:"UK"},
  {name:"Lynx IFV", country:"Germany"},
  {name:"Boxer CRV", country:"Australia"},
  {name:"ZBD-05 IFV", country:"China"},
  {name:"BTR-80 APC", country:"Russia"},
  {name:"ZLT-09 Light Tank", country:"China"},
  {name:"M1A1 Abrams MBT", country:"USA"},
  {name:"Type-99 MBT", country:"China"},
  {name:"K9 Thunder SP Artillery", country:"South Korea"},
  {name:"CH-47 Chinook Transport", country:"USA"},
  {name:"UH-60 Black Hawk Transport", country:"USA"},
  {name:"Su-27 Flanker Fighter", country:"Russia"},
  {name:"AH-64 Apache Attack", country:"USA"},
  {name:"F-35 Lightning II Multi-Role", country:"USA"},
  {name:"J-20 Mighty Dragon Stealth Fighter", country:"China"},
  {name:"Eurocopter Tiger Attack", country:"Europe"},
  {name:"ASLAV T-1 CRV", country:"Australia"},
  {name:"Mi-24 Hind Ground Attack", country:"Russia"},
  {name:"Hunter IFV", country:"Singapore"},
  {name:"Type-63A Light Tank", country:"China"},
  {name:"T-90 MBT", country:"Russia"},
  {name:"K2 Black Panther MBT", country:"South Korea"},
  {name:"Tunguska 2S6 SPAA", country:"Russia"}
];

let current = 0, score = 0, shuffled = [];

function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}return a;}

function start(){shuffled=shuffle([...vehicles]); current=0; score=0; document.getElementById("quiz").innerHTML = originalQuizHTML; next();}

let originalQuizHTML = document.getElementById("quiz").innerHTML;

function next(){
  if(current >= shuffled.length){ end(); return; }
  const correct = shuffled[current];
  const wrong = shuffle(vehicles.filter(v=>v.name!==correct.name)).slice(0,3);
  const options = shuffle([correct, ...wrong]);

  document.getElementById("question").innerHTML = `<strong>Question ${current+1} of ${shuffled.length}</strong><br>What is this vehicle?`;
  document.getElementById("progressBar").style.width = `${(current/shuffled.length)*100}%`;

  // Try .jpg first, then .jpeg if 404
  const img = document.getElementById("vehicleImage");
  img.style.display = "none";
  document.querySelector(".loading").style.display = "flex";

  const baseName = `IMG_${(6394 + current).toString().padStart(4,'0')} Large`;
  img.src = `${baseName}.jpg?v=${Date.now()}`;
  
  img.onload = () => { document.querySelector(".loading").style.display="none"; img.style.display="block"; };
  img.onerror = () => { img.src = `${baseName}.jpeg?v=${Date.now()}`; };

  document.getElementById("result").innerHTML = "";
  document.getElementById("nextBtn").style.display = "none";

  const div = document.getElementById("options"); div.innerHTML="";
  options.forEach(o=>{
    const b = document.createElement("button");
    b.textContent = `${o.name} (${o.country})`;
    b.onclick = () => choose(o===correct, correct, b);
    div.appendChild(b);
  });
}

function choose(right, correctObj, btn){
  document.querySelectorAll("#options button").forEach(b=>b.disabled=true);
  if(right){
    btn.classList.add("correct");
    score++;
    document.getElementById("result").innerHTML = "‚úî Correct!";
    if('vibrate' in navigator) navigator.vibrate(100);
  }else{
    btn.classList.add("wrong");
    document.getElementById("result").innerHTML = `‚úñ Wrong!<br>Correct: <strong>${correctObj.name} (${correctObj.country})</strong>`;
  }
  document.getElementById("nextBtn").style.display="block";
  current++;
}

function end(){
  document.getElementById("progressBar").style.width = "100%";
  const percent = Math.round((score/shuffled.length)*100);
  document.getElementById("quiz").innerHTML = `
    <div id="final">
      <h2>üéñÔ∏è Quiz Complete!</h2>
      <p style="font-size:3em; margin:30px 0;">${score} / ${shuffled.length}</p>
      <p style="font-size:2em;">${percent}% Correct</p>
      <button onclick="start()" style="padding:18px 50px; font-size:1.5em; background:var(--accent); border:none; border-radius:12px; margin-top:30px;">Play Again</button>
    </div>`;
  if(percent===100) confetti({particleCount:200, spread:90, origin:{y:0.6}});
}

document.getElementById("nextBtn").onclick = next;
window.onload = start;
</script>
</body>
</html>
